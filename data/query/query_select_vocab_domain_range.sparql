select ?domain ?p ?range (count(*) as ?cnt)
where {
?s ?p ?o .
?s a ?domain  .
OPTIONAL {?o a ?range }.
}
group by ?domain ?p ?range
order by ?domain ?p ?range
